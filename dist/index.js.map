{"version":3,"file":"index.js","sources":["../src/styles.ts","../src/index.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.div<{ color?: string; borderColor?: string }>`\n  padding: 20px;\n\n  details {\n    display: flex;\n    flex-direction: column;\n    border-bottom: 2px solid ${({ borderColor }) => borderColor || '#bbb'};\n    box-sizing: border-box;\n    overflow: hidden;\n\n    &:first-of-type {\n      border-top: 2px solid ${({ borderColor }) => borderColor || '#bbb'};\n    }\n\n    &[open] {\n      summary > span:last-of-type {\n        transform: rotate(90deg);\n        transition: transform 0.3s linear;\n      }\n\n      > div {\n        height: 300px;\n      }\n    }\n\n    > summary {\n      cursor: pointer;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      outline: none;\n      padding: 15px 10px;\n      box-sizing: border-box;\n      font-weight: 700;\n      font-size: 1.1em;\n      color: ${({ color }) => color || '#222'};\n\n      > span:last-of-type {\n        transform: rotate(0);\n        transition: transform 0.3s ease-in-out;\n      }\n    }\n\n    > div {\n      margin: 0;\n      padding: 0 10px;\n      background-color: #f2f2f2;\n      overflow-y: auto;\n      height: 0;\n      transition: height 1s linear;\n    }\n  }\n`;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from './styles';\n\ntype Props = {\n  source?: Array<any>;\n  children?: Array<React.ReactElement> | React.ReactElement;\n  className?: string;\n  marker?: React.ReactElement;\n  color?: string;\n  borderColor?: string;\n};\n\nexport default function Accordion({\n  source = [],\n  children = [],\n  className,\n  marker,\n  color,\n  borderColor,\n}: Props) {\n  const list = useRef<HTMLDivElement>(null);\n\n  function toggle(index: number) {\n    const items = list.current?.querySelectorAll('details');\n    items?.forEach((item, i) => i != index && item.removeAttribute('open'));\n    items &&\n      items[index]?.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n        inline: 'center',\n      });\n  }\n\n  return (\n    <List\n      ref={list}\n      className={className}\n      color={color}\n      borderColor={borderColor}\n    >\n      {source.concat(children).map((item: any, index) => (\n        <details key={index.toString()}>\n          <summary onClick={() => toggle(index)}>\n            <span>{item.title || item.props.title}</span>\n            <span data-color={color || '#000'}>{marker || '+'}</span>\n          </summary>\n          <div>{item.text ? <p>{item.text}</p> : item}</div>\n        </details>\n      ))}\n    </List>\n  );\n}\n\nAccordion.propTypes = {\n  source: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    })\n  ),\n};\n"],"names":["styled","useRef","React","PropTypes"],"mappings":"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"}